<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MQTT-SN Gateway Library: Config</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MQTT-SN Gateway Library
   </div>
   <div id="projectbrief">Library that allows implementation of MQTT-SN gateway.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Config </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#cc_mqttsn_gw_config_page_alloc">Allocation</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_parse">Read and Parse Configuration</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_id">Gateway ID</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_advertise">Advertise Period</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_retry">Retry Configuration</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_default_client">Default Client ID</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_pub_only_keep_alive">Keep Alive Period for Publish Only Clients</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_sleeping_client_msg_limit">Limit Messages for Sleeping Clients</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_predefined_topics">Predefined Topics</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_client_auth">Authentication Information</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_topic_id_range">Topic ID Allocation Range</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_broker_addr">Broker Address and Port</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_log_file">Log File</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_client_socket">Client I/O Socket Type</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_broker_socket">Broker I/O Socket Type</a></li>
<li class="level1"><a href="#cc_mqttsn_gw_config_page_custom">Custom Configuration Values</a></li>
</ul>
</div>
<div class="textblock"><p>The <b>Config</b> object is responsible to provide a common way to parse the configuration file and provide a convenient interface to retrieve any configuration values, which can later be applied to the <b>Gateway</b> and/or <b>Session</b> objects. The format of the configuration file is described in the example config file provided with the project.</p>
<h1><a class="anchor" id="cc_mqttsn_gw_config_page_alloc"></a>
Allocation</h1>
<p>When using <b>C++</b> interface, just instantiate object of <a class="el" href="classcc__mqttsn__gateway_1_1Config.html" title="Interface for Config entity.">cc_mqttsn_gateway::Config</a> class. The destruction of the object will clean up all acquired resources. </p><div class="fragment"><div class="line"><a class="code" href="classcc__mqttsn__gateway_1_1Config.html">cc_mqttsn_gateway::Config</a> config;</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html">cc_mqttsn_gateway::Config</a></div><div class="ttdoc">Interface for Config entity.</div><div class="ttdef"><b>Definition:</b> Config.h:34</div></div>
</div><!-- fragment --><p>When using <b>C</b> interface, the allocation is performed using <a class="el" href="gateway__all_8h.html#a30e9735a39c90ce9ad2d279e5edefc64" title="Allocate Config object.">cc_mqttsn_gw_config_alloc()</a> </p><div class="fragment"><div class="line"><a class="code" href="gateway__all_8h.html#a10d84c0578da337c659977b26287bd39">CC_MqttsnConfigHandle</a> handle = <a class="code" href="gateway__all_8h.html#a30e9735a39c90ce9ad2d279e5edefc64">cc_mqttsn_gw_config_alloc</a>();</div>
<div class="ttc" id="agateway__all_8h_html_a10d84c0578da337c659977b26287bd39"><div class="ttname"><a href="gateway__all_8h.html#a10d84c0578da337c659977b26287bd39">CC_MqttsnConfigHandle</a></div><div class="ttdeci">struct CC_MqttsnConfig * CC_MqttsnConfigHandle</div><div class="ttdoc">Handle for session object used in all cc_mqttsn_gw_config_* functions.</div><div class="ttdef"><b>Definition:</b> gateway_all.h:574</div></div>
<div class="ttc" id="agateway__all_8h_html_a30e9735a39c90ce9ad2d279e5edefc64"><div class="ttname"><a href="gateway__all_8h.html#a30e9735a39c90ce9ad2d279e5edefc64">cc_mqttsn_gw_config_alloc</a></div><div class="ttdeci">CC_MqttsnConfigHandle cc_mqttsn_gw_config_alloc(void)</div><div class="ttdoc">Allocate Config object.</div></div>
</div><!-- fragment --><p> and de-allocation is performed using <a class="el" href="gateway__all_8h.html#a09040a02e45969e577936d6a58692ce0" title="Free allocated Config object.">cc_mqttsn_gw_config_free()</a> functions. </p><div class="fragment"><div class="line"><a class="code" href="gateway__all_8h.html#a09040a02e45969e577936d6a58692ce0">cc_mqttsn_gw_config_free</a>(handle);</div>
<div class="ttc" id="agateway__all_8h_html_a09040a02e45969e577936d6a58692ce0"><div class="ttname"><a href="gateway__all_8h.html#a09040a02e45969e577936d6a58692ce0">cc_mqttsn_gw_config_free</a></div><div class="ttdeci">void cc_mqttsn_gw_config_free(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Free allocated Config object.</div></div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_parse"></a>
Read and Parse Configuration</h1>
<p>The gateway application may have multiple configuration options. These options and their parameters may be listed in a special configuration file. The expected format of the file is as following:</p>
<ul>
<li>The comment starts with <b>'#'</b> symbol and ends with new line chracter. The comments are ignored when parsing the file</li>
<li>The configuration option contains with key and value pair. The first word (until the first white space character) in the configuration line is considered to be a key, all the rest (until the end of the line) is considered to be a value.</li>
</ul>
<p>The <b>Config</b> object assigns various default values to all the configuration options when constructed. It may be requested to read and parse the configuration file. In this case, the <b>Config</b> object will update the configuration values, recorded in its internal state, with new values read from file. If some option does not appear to be listed in the file, the default value will be reported when inquired.</p>
<p><b>C++</b> interface allows usage any of standard input streams: </p><div class="fragment"><div class="line">std::ifstream stream(<span class="stringliteral">&quot;/path/to/config/file&quot;</span>);</div>
<div class="line">config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#aaeca1e557ca787f0a42688a0203f6135">read</a>(stream);</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_aaeca1e557ca787f0a42688a0203f6135"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#aaeca1e557ca787f0a42688a0203f6135">cc_mqttsn_gateway::Config::read</a></div><div class="ttdeci">void read(std::istream &amp;stream)</div><div class="ttdoc">Read configuration from input stream.</div></div>
</div><!-- fragment --><p><b>C</b> interface also allows either reading from file: </p><div class="fragment"><div class="line"><a class="code" href="gateway__all_8h.html#ae942771e265c889d36060409bac3b5cd">cc_mqttsn_gw_config_read</a>(handle, <span class="stringliteral">&quot;/path/to/config/file&quot;</span>);</div>
<div class="ttc" id="agateway__all_8h_html_ae942771e265c889d36060409bac3b5cd"><div class="ttname"><a href="gateway__all_8h.html#ae942771e265c889d36060409bac3b5cd">cc_mqttsn_gw_config_read</a></div><div class="ttdeci">bool cc_mqttsn_gw_config_read(CC_MqttsnConfigHandle config, const char *filename)</div><div class="ttdoc">Read configuration file.</div></div>
</div><!-- fragment --><p> or parsing the string, if configuration file contents have been read from file into a buffer earlier: </p><div class="fragment"><div class="line"><span class="keywordtype">char</span> buf[4096] = {0};</div>
<div class="line">... <span class="comment">/* read data from buf into buf, put \0 at the end */</span></div>
<div class="line"><a class="code" href="gateway__all_8h.html#a634f978feb2b7ca22fe3af51843ff9ff">cc_mqttsn_gw_config_parse</a>(handle, buf);</div>
<div class="ttc" id="agateway__all_8h_html_a634f978feb2b7ca22fe3af51843ff9ff"><div class="ttname"><a href="gateway__all_8h.html#a634f978feb2b7ca22fe3af51843ff9ff">cc_mqttsn_gw_config_parse</a></div><div class="ttdeci">void cc_mqttsn_gw_config_parse(CC_MqttsnConfigHandle config, const char *str)</div><div class="ttdoc">Parse configuration contents from string.</div></div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_id"></a>
Gateway ID</h1>
<p>Both <a class="el" href="cc_mqttsn_gw_gateway_page.html">Gateway</a> (see <a class="el" href="cc_mqttsn_gw_gateway_page.html#cc_mqttsn_gw_gateway_page_gw">Gateway ID</a>) and <a class="el" href="cc_mqttsn_gw_session_page.html">Session</a> (see <a class="el" href="cc_mqttsn_gw_session_page.html#cc_mqttsn_gw_session_page_id">Gateway ID</a>) objects require knowledge of gateway numeric ID to be able to properly report it to the client(s).</p>
<p><b>C++</b> interface: </p><div class="fragment"><div class="line">std::uint8_t <span class="keywordtype">id</span> = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#ac896ea4bfc3c3fab600d299160dba990">gatewayId</a>();</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_ac896ea4bfc3c3fab600d299160dba990"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#ac896ea4bfc3c3fab600d299160dba990">cc_mqttsn_gateway::Config::gatewayId</a></div><div class="ttdeci">std::uint8_t gatewayId() const</div><div class="ttdoc">Get gateway numeric ID.</div></div>
</div><!-- fragment --><p><b>C</b> interface: </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keywordtype">id</span> = <a class="code" href="gateway__all_8h.html#acc49bfebd121a1d8f6a42665460a3e1b">cc_mqttsn_gw_config_id</a>(handle);</div>
<div class="ttc" id="agateway__all_8h_html_acc49bfebd121a1d8f6a42665460a3e1b"><div class="ttname"><a href="gateway__all_8h.html#acc49bfebd121a1d8f6a42665460a3e1b">cc_mqttsn_gw_config_id</a></div><div class="ttdeci">unsigned char cc_mqttsn_gw_config_id(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get gateway numeric ID.</div></div>
</div><!-- fragment --><p>Applicable configuration file contents: </p><div class="fragment"><div class="line"># Gateway ID, reported in ADVERTISE and GWINFO messages. Default value is 0.</div>
<div class="line">mqttsn_gw_id 0</div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_advertise"></a>
Advertise Period</h1>
<p>The <a class="el" href="cc_mqttsn_gw_gateway_page.html">Gateway</a> object sends <b>ADVERTISE</b> message periodically. It needs to be configured with propere period value (see <a class="el" href="cc_mqttsn_gw_gateway_page.html#cc_mqttsn_gw_gateway_page_adv_period">Advertise Period</a>). Use the following interface to retrieve this value from the <b>Config</b> object.</p>
<p><b>C++</b> interface: </p><div class="fragment"><div class="line">std::uint16_t period = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#a03ae7eb7733f24106c0eb9d156172f07">advertisePeriod</a>();</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_a03ae7eb7733f24106c0eb9d156172f07"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#a03ae7eb7733f24106c0eb9d156172f07">cc_mqttsn_gateway::Config::advertisePeriod</a></div><div class="ttdeci">std::uint16_t advertisePeriod() const</div><div class="ttdoc">Get advertise period.</div></div>
</div><!-- fragment --><p><b>C</b> interface: </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> period = <a class="code" href="gateway__all_8h.html#a83b247ef7a003577a1fac94bab300182">cc_mqttsn_gw_config_advertise_period</a>(handle);</div>
<div class="ttc" id="agateway__all_8h_html_a83b247ef7a003577a1fac94bab300182"><div class="ttname"><a href="gateway__all_8h.html#a83b247ef7a003577a1fac94bab300182">cc_mqttsn_gw_config_advertise_period</a></div><div class="ttdeci">unsigned short cc_mqttsn_gw_config_advertise_period(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get advertise period.</div></div>
</div><!-- fragment --><p>Applicable configuration file contents: </p><div class="fragment"><div class="line"># Advertise period (in seconds), when gateway is expected to advertise its</div>
<div class="line"># presence by broadcasting ADVERTISE message. Default value is 900 (=15 min).</div>
<div class="line"># This value can be set to 0, which will indicate that gateway supports only</div>
<div class="line"># direct connections and doesn&#39;t advertise its presence to others.</div>
<div class="line">mqttsn_advertise 900</div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_retry"></a>
Retry Configuration</h1>
<p>The <a class="el" href="cc_mqttsn_gw_session_page.html">Session</a> object can be configured with period between its retry attempts as well as number of such attempts (see <a class="el" href="cc_mqttsn_gw_session_page.html#cc_mqttsn_gw_session_page_retry">Retry Attempts</a>). Use the following interface of the <b>Config</b> object to retreive these values:</p>
<p><b>C++</b> interface: </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> period = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#adf7715a42ebb748427fb1dfa9d8a4121">retryPeriod</a>();</div>
<div class="line"><span class="keywordtype">unsigned</span> attempts = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#a662953cdcd8538668c25dcd94c85401d">retryCount</a>();</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_a662953cdcd8538668c25dcd94c85401d"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#a662953cdcd8538668c25dcd94c85401d">cc_mqttsn_gateway::Config::retryCount</a></div><div class="ttdeci">unsigned retryCount() const</div><div class="ttdoc">Get number of retry attempts.</div></div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_adf7715a42ebb748427fb1dfa9d8a4121"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#adf7715a42ebb748427fb1dfa9d8a4121">cc_mqttsn_gateway::Config::retryPeriod</a></div><div class="ttdeci">unsigned retryPeriod() const</div><div class="ttdoc">Get retry period.</div></div>
</div><!-- fragment --><p><b>C</b> interface: </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> period = <a class="code" href="gateway__all_8h.html#a5da304a8e8983aa53668ee1e1e466b1a">cc_mqttsn_gw_config_retry_period</a>(handle);</div>
<div class="line"><span class="keywordtype">unsigned</span> attempts = <a class="code" href="gateway__all_8h.html#a0016de2e726c9cb0cd6c549d5ccf7688">cc_mqttsn_gw_config_retry_count</a>(handle);</div>
<div class="ttc" id="agateway__all_8h_html_a0016de2e726c9cb0cd6c549d5ccf7688"><div class="ttname"><a href="gateway__all_8h.html#a0016de2e726c9cb0cd6c549d5ccf7688">cc_mqttsn_gw_config_retry_count</a></div><div class="ttdeci">unsigned cc_mqttsn_gw_config_retry_count(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get number of retry attempts.</div></div>
<div class="ttc" id="agateway__all_8h_html_a5da304a8e8983aa53668ee1e1e466b1a"><div class="ttname"><a href="gateway__all_8h.html#a5da304a8e8983aa53668ee1e1e466b1a">cc_mqttsn_gw_config_retry_period</a></div><div class="ttdeci">unsigned cc_mqttsn_gw_config_retry_period(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get retry period.</div></div>
</div><!-- fragment --><p>Applicable configuration file contents: </p><div class="fragment"><div class="line"># Time in seconds to wait before re-sending message, acknowledgement of which</div>
<div class="line"># needs to be received. The same time interval is used to resend messages to</div>
<div class="line"># both client / broker directions. Default value is 10 seconds.</div>
<div class="line">mqttsn_retry_period 10</div>
<div class="line"> </div>
<div class="line"># Number of attempts to try to re-send a message, acknowledgement of which needs</div>
<div class="line"># to be received. Default value is 3.</div>
<div class="line">mqttsn_retry_count 3</div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_default_client"></a>
Default Client ID</h1>
<p>Can be used in <a class="el" href="cc_mqttsn_gw_session_page.html">Session</a> object configuration (see <a class="el" href="cc_mqttsn_gw_session_page.html#cc_mqttsn_gw_session_page_default_client_id">Default Client ID</a>).</p>
<p><b>C++</b> interface: </p><div class="fragment"><div class="line"><span class="keyword">const</span> std::string&amp; clientId = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#ad92f532edb288f0d8ad658c6b770a538">defaultClientId</a>();</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_ad92f532edb288f0d8ad658c6b770a538"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#ad92f532edb288f0d8ad658c6b770a538">cc_mqttsn_gateway::Config::defaultClientId</a></div><div class="ttdeci">const std::string &amp; defaultClientId() const</div><div class="ttdoc">Get default client ID.</div></div>
</div><!-- fragment --><p><b>C</b> interface: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* clientId = <a class="code" href="gateway__all_8h.html#a307a7ff583fd5e2673a53bb0ba253255">cc_mqttsn_gw_config_default_client_id</a>(handle);</div>
<div class="ttc" id="agateway__all_8h_html_a307a7ff583fd5e2673a53bb0ba253255"><div class="ttname"><a href="gateway__all_8h.html#a307a7ff583fd5e2673a53bb0ba253255">cc_mqttsn_gw_config_default_client_id</a></div><div class="ttdeci">const char * cc_mqttsn_gw_config_default_client_id(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get default client ID.</div></div>
</div><!-- fragment --><p>Applicable configuration file contents: </p><div class="fragment"><div class="line"># In some use-cases, with interfaces such as RS-232 and/or some bluetooth links,</div>
<div class="line"># there is only one MQTT-SN client that can be connected to the gateway. In this</div>
<div class="line"># case the client may omit its client ID information in the CONNECT message</div>
<div class="line"># to save the amount of traffic. When forwarding the connection request to the</div>
<div class="line"># broker, gateway may replace empty client ID with some predefined value. Use</div>
<div class="line"># &quot;mqttsn_default_client_id&quot; option to specify such default client ID.</div>
<div class="line">mqttsn_default_client_id some_id</div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_pub_only_keep_alive"></a>
Keep Alive Period for Publish Only Clients</h1>
<p>Can be used in <a class="el" href="cc_mqttsn_gw_session_page.html">Session</a> object configuration (see <a class="el" href="cc_mqttsn_gw_session_page.html#cc_mqttsn_gw_session_page_publish_only">Publish Only Client</a>).</p>
<p><b>C++</b> interface: </p><div class="fragment"><div class="line">std::uint16_t keepAlivePeriod = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#a715e1cf347c9d0008e32d2db67b1a5dc">pubOnlyKeepAlive</a>();</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_a715e1cf347c9d0008e32d2db67b1a5dc"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#a715e1cf347c9d0008e32d2db67b1a5dc">cc_mqttsn_gateway::Config::pubOnlyKeepAlive</a></div><div class="ttdeci">std::uint16_t pubOnlyKeepAlive() const</div><div class="ttdoc">Get keep alive period for publish only clients.</div></div>
</div><!-- fragment --><p><b>C</b> interface: </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> keepAlivePeriod = <a class="code" href="gateway__all_8h.html#a2275954f874452763ec2bbcd345ee2fd">cc_mqttsn_gw_config_pub_only_keep_alive</a>(handle);</div>
<div class="ttc" id="agateway__all_8h_html_a2275954f874452763ec2bbcd345ee2fd"><div class="ttname"><a href="gateway__all_8h.html#a2275954f874452763ec2bbcd345ee2fd">cc_mqttsn_gw_config_pub_only_keep_alive</a></div><div class="ttdeci">unsigned cc_mqttsn_gw_config_pub_only_keep_alive(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get keep alive period for publish only clients.</div></div>
</div><!-- fragment --><p>Applicable configuration file contents: </p><div class="fragment"><div class="line"># The gateway supports &quot;publish only&quot; clients, that do not attempt to connect</div>
<div class="line"># to the gateway, and don&#39;t subscribe to any topics. Such clients are allowed to</div>
<div class="line"># publish predefined topics with QoS=-1. The gateway connects to broker on</div>
<div class="line"># behalf to such client. In addition to setting &quot;mqttsn_default_client_id&quot; value</div>
<div class="line"># the gateway may be configured to set &quot;keep alive&quot; period in which client must</div>
<div class="line"># send at least one message. Use &quot;mqttsn_pub_only_keep_alive&quot; option to set</div>
<div class="line"># the value keep alive period in seconds. The default value is 60.</div>
<div class="line">mqttsn_pub_only_keep_alive 60</div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_sleeping_client_msg_limit"></a>
Limit Messages for Sleeping Clients</h1>
<p>Can be used in <a class="el" href="cc_mqttsn_gw_session_page.html">Session</a> object configuration (see <a class="el" href="cc_mqttsn_gw_session_page.html#cc_mqttsn_gw_session_page_sleep">Sleeping Client</a>).</p>
<p><b>C++</b> interface: </p><div class="fragment"><div class="line">std::size_t limit = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#a28e64dd0a14c5408eca3932d3ee6356e">sleepingClientMsgLimit</a>();</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_a28e64dd0a14c5408eca3932d3ee6356e"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#a28e64dd0a14c5408eca3932d3ee6356e">cc_mqttsn_gateway::Config::sleepingClientMsgLimit</a></div><div class="ttdeci">std::size_t sleepingClientMsgLimit() const</div><div class="ttdoc">Get limit for max number of messages to accumulate for sleeping clients.</div></div>
</div><!-- fragment --><p><b>C</b> interface: </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> limit = <a class="code" href="gateway__all_8h.html#aac9e3f5e73bd620c6389df77aeb41cae">cc_mqttsn_gw_config_sleeping_client_msg_limit</a>(handle);</div>
<div class="ttc" id="agateway__all_8h_html_aac9e3f5e73bd620c6389df77aeb41cae"><div class="ttname"><a href="gateway__all_8h.html#aac9e3f5e73bd620c6389df77aeb41cae">cc_mqttsn_gw_config_sleeping_client_msg_limit</a></div><div class="ttdeci">unsigned cc_mqttsn_gw_config_sleeping_client_msg_limit(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get limit for max number of messages to accumulate for sleeping clients.</div></div>
</div><!-- fragment --><p>Applicable configuration file contents: </p><div class="fragment"><div class="line"># Gateway may support sleeping clients. When client is sleeping, the broker</div>
<div class="line"># may publish the message to the client. The gateway is responsible to store</div>
<div class="line"># these messages and report them to the client, when the latter wakes up. It</div>
<div class="line"># is possible to set a limit on number of such stored messages using</div>
<div class="line"># &quot;mqttsn_sleeping_client_msg_limit&quot; option.</div>
<div class="line">mqttsn_sleeping_client_msg_limit 1024</div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_predefined_topics"></a>
Predefined Topics</h1>
<p>The <a class="el" href="cc_mqttsn_gw_session_page.html">Session</a> object can be configured with number of predefined topics (see <a class="el" href="cc_mqttsn_gw_session_page.html#cc_mqttsn_gw_session_page_predefined_topics">Predefined Topics</a>). Retrieve this information from the <b>Config</b> object using the following API.</p>
<p><b>C++</b> interface: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="classcc__mqttsn__gateway_1_1Config.html#a1d56b92f19a63e0da77bd1676bbbf9fb">cc_mqttsn_gateway::Config::PredefinedTopicsList</a>&amp; list = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#a8d9f883ccc0f495b2adaecd417ecdce0">predefinedTopics</a>();</div>
<div class="line">... <span class="comment">// iterate over the list and assign values to @b Session object(s).</span></div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_a1d56b92f19a63e0da77bd1676bbbf9fb"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#a1d56b92f19a63e0da77bd1676bbbf9fb">cc_mqttsn_gateway::Config::PredefinedTopicsList</a></div><div class="ttdeci">std::vector&lt; PredefinedTopicInfo &gt; PredefinedTopicsList</div><div class="ttdoc">Type of list containing predefined topics.</div><div class="ttdef"><b>Definition:</b> Config.h:56</div></div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_a8d9f883ccc0f495b2adaecd417ecdce0"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#a8d9f883ccc0f495b2adaecd417ecdce0">cc_mqttsn_gateway::Config::predefinedTopics</a></div><div class="ttdeci">const PredefinedTopicsList &amp; predefinedTopics() const</div><div class="ttdoc">Get access to the list of predefined topics.</div></div>
</div><!-- fragment --><p><b>C</b> interface: </p><div class="fragment"><div class="line">   <a class="code" href="structCC__MqttsnPredefinedTopicInfo.html">CC_MqttsnPredefinedTopicInfo</a> infos[100];</div>
<div class="line">   <span class="keywordtype">unsigned</span> count = <a class="code" href="gateway__all_8h.html#a874db716cf8499e03404e90d6f938e9d">cc_mqttsn_gw_config_get_predefined_topics</a>(handle, infos, 100);</div>
<div class="line">   <span class="keywordtype">unsigned</span> idx;</div>
<div class="line">   <span class="keywordflow">for</span> (idx = 0; idx &lt; count; idx++) {</div>
<div class="line">       <span class="keyword">const</span> <a class="code" href="structCC__MqttsnPredefinedTopicInfo.html">CC_MqttsnPredefinedTopicInfo</a>* elem = infos[idx];</div>
<div class="line">       ... <span class="comment">/* assign elem info to @b Session object(s).</span></div>
<div class="line"><span class="comment">*  }</span></div>
<div class="line"><span class="comment">*  </span></div>
<div class="ttc" id="agateway__all_8h_html_a874db716cf8499e03404e90d6f938e9d"><div class="ttname"><a href="gateway__all_8h.html#a874db716cf8499e03404e90d6f938e9d">cc_mqttsn_gw_config_get_predefined_topics</a></div><div class="ttdeci">unsigned cc_mqttsn_gw_config_get_predefined_topics(CC_MqttsnConfigHandle config, CC_MqttsnPredefinedTopicInfo *buf, unsigned bufLen)</div><div class="ttdoc">Read information about available topic IDs into a buffer.</div></div>
<div class="ttc" id="astructCC__MqttsnPredefinedTopicInfo_html"><div class="ttname"><a href="structCC__MqttsnPredefinedTopicInfo.html">CC_MqttsnPredefinedTopicInfo</a></div><div class="ttdoc">Info about single predefined topic.</div><div class="ttdef"><b>Definition:</b> gateway_all.h:542</div></div>
</div><!-- fragment --><p>Applicable configuration file contents: </p><div class="fragment"><div class="line"># List of predefined ids can be specified using multiple</div>
<div class="line"># &quot;mqttsn_predefined_topic&quot; options. This option is expected to have 3</div>
<div class="line"># parameters: client ID, topic string, and topic ID. The common predefined</div>
<div class="line"># topic ID for all the possible clients may be specified using &#39;*&#39; as</div>
<div class="line"># client ID parameter.</div>
<div class="line">mqttsn_predefined_topic client1 predefined/topic/client1 1</div>
<div class="line">mqttsn_predefined_topic * common/predefined/topic 2</div>
</div><!-- fragment --><p><b>C</b> interface also allows to retrieve number of predefined topics in case there is no known limit for the buffer upfront and it needs to be dynamically allocated: </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> count = <a class="code" href="gateway__all_8h.html#af37cf7cb8dfe7575ce672fcb0035e882">cc_mqttsn_gw_config_available_predefined_topics</a>(handle);</div>
<div class="ttc" id="agateway__all_8h_html_af37cf7cb8dfe7575ce672fcb0035e882"><div class="ttname"><a href="gateway__all_8h.html#af37cf7cb8dfe7575ce672fcb0035e882">cc_mqttsn_gw_config_available_predefined_topics</a></div><div class="ttdeci">unsigned cc_mqttsn_gw_config_available_predefined_topics(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get number of available predefined topic IDs.</div></div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_client_auth"></a>
Authentication Information</h1>
<p>The <a class="el" href="cc_mqttsn_gw_session_page.html">Session</a> object can inquire authentication information when some client attempts connection (see <a class="el" href="cc_mqttsn_gw_session_page.html#cc_mqttsn_gw_session_page_client_auth">Client Authentication</a>). Retrieve this information from the <b>Config</b> object using the following API.</p>
<p><b>C++</b> interface: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="classcc__mqttsn__gateway_1_1Config.html#a85b73f387b2c4ac6a03798d384ab00cf">cc_mqttsn_gateway::Config::AuthInfosList</a>&amp; list = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#ac9a33bb84e9aa55779ad5b4a84c23a3c">authInfos</a>();</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_a85b73f387b2c4ac6a03798d384ab00cf"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#a85b73f387b2c4ac6a03798d384ab00cf">cc_mqttsn_gateway::Config::AuthInfosList</a></div><div class="ttdeci">std::vector&lt; AuthInfo &gt; AuthInfosList</div><div class="ttdoc">Type of list containing authentication information for multiple clients.</div><div class="ttdef"><b>Definition:</b> Config.h:67</div></div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_ac9a33bb84e9aa55779ad5b4a84c23a3c"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#ac9a33bb84e9aa55779ad5b4a84c23a3c">cc_mqttsn_gateway::Config::authInfos</a></div><div class="ttdeci">const AuthInfosList &amp; authInfos() const</div><div class="ttdoc">Get access to list of authentication informations.</div></div>
</div><!-- fragment --><p><b>C</b> interface: </p><div class="fragment"><div class="line"><a class="code" href="structCC__MqttsnAuthInfo.html">CC_MqttsnAuthInfo</a> infos[100];</div>
<div class="line"><span class="keywordtype">unsigned</span> count = <a class="code" href="gateway__all_8h.html#a6a467e62a020e838db74884f98d707f2">cc_mqttsn_gw_config_get_auth_infos</a>(handle, infos, 100);</div>
<div class="line">... <span class="comment">// use up to count infos.</span></div>
<div class="ttc" id="agateway__all_8h_html_a6a467e62a020e838db74884f98d707f2"><div class="ttname"><a href="gateway__all_8h.html#a6a467e62a020e838db74884f98d707f2">cc_mqttsn_gw_config_get_auth_infos</a></div><div class="ttdeci">unsigned cc_mqttsn_gw_config_get_auth_infos(CC_MqttsnConfigHandle config, CC_MqttsnAuthInfo *buf, unsigned bufLen)</div><div class="ttdoc">Read clients' authentication information into a buffer.</div></div>
<div class="ttc" id="astructCC__MqttsnAuthInfo_html"><div class="ttname"><a href="structCC__MqttsnAuthInfo.html">CC_MqttsnAuthInfo</a></div><div class="ttdoc">Authentication infor for a single client.</div><div class="ttdef"><b>Definition:</b> gateway_all.h:550</div></div>
</div><!-- fragment --><p><b>C</b> interface also allows to retrieve total number of authentication infos available. It can be useful in case there is no known limit for the buffer upfront and it needs to be dynamically allocated: </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> count = <a class="code" href="gateway__all_8h.html#af0241f3f1598e8213aa08f0819705f36">cc_mqttsn_gw_config_available_auth_infos</a>(handle);</div>
<div class="ttc" id="agateway__all_8h_html_af0241f3f1598e8213aa08f0819705f36"><div class="ttname"><a href="gateway__all_8h.html#af0241f3f1598e8213aa08f0819705f36">cc_mqttsn_gw_config_available_auth_infos</a></div><div class="ttdeci">unsigned cc_mqttsn_gw_config_available_auth_infos(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get number of available authenticatin infos for all the clients.</div></div>
</div><!-- fragment --><p>Applicable configuration file contents: </p><div class="fragment"><div class="line"># MQTT protocol supports client authentication using username and password,</div>
<div class="line"># while MQTT-SN doesn&#39;t have such option. The gateway may be configured to</div>
<div class="line"># use some authentication information when forwarding connection requests to</div>
<div class="line"># the broker. Such authentication information may be specified using</div>
<div class="line"># &quot;mqttsn_auth&quot; option. This option is expected to have 3 parameters:</div>
<div class="line"># client ID, username string, password string. Note, that MQTT protocol</div>
<div class="line"># specifies password as binary data. The password string parameter will be used</div>
<div class="line"># as is unless it uses &quot;\x&quot; prefix for every binary byte. Just like with</div>
<div class="line"># &quot;mqttsn_predefined_topic&quot; option, the client ID may also be a wildcard (&#39;*&#39;).</div>
<div class="line">mqttsn_auth client1 username1 ascii_password</div>
<div class="line">mqttsn_auth client2 username2 \x00\x01\x02\x03\x04\x05</div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_topic_id_range"></a>
Topic ID Allocation Range</h1>
<p>The <a class="el" href="cc_mqttsn_gw_session_page.html">Session</a> object can be configured to limit its range of topic IDs, which are allocated for newly registered topic strings (see <a class="el" href="cc_mqttsn_gw_session_page.html#cc_mqttsn_gw_session_page_topics_registration">Allocating Topic IDs</a>). Retrieve this information from the <b>Config</b> object using the following API.</p>
<p><b>C++</b> interface: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="classcc__mqttsn__gateway_1_1Config.html#a90cdfe749026d7dcf29b789ad227a79e">cc_mqttsn_gateway::Config::TopicIdsRange</a> range = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#a3fc176f8d5d3a32764fdaad0bc8288c6">topicIdAllocRange</a>();</div>
<div class="line">std::uint16_t minTopicId = range.first;</div>
<div class="line">std::uint16_t maxTopicId = range.second;</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_a3fc176f8d5d3a32764fdaad0bc8288c6"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#a3fc176f8d5d3a32764fdaad0bc8288c6">cc_mqttsn_gateway::Config::topicIdAllocRange</a></div><div class="ttdeci">TopicIdsRange topicIdAllocRange() const</div><div class="ttdoc">Get range of allowed topic IDs for allocation.</div></div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_a90cdfe749026d7dcf29b789ad227a79e"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#a90cdfe749026d7dcf29b789ad227a79e">cc_mqttsn_gateway::Config::TopicIdsRange</a></div><div class="ttdeci">std::pair&lt; std::uint16_t, std::uint16_t &gt; TopicIdsRange</div><div class="ttdoc">Range of topic IDs.</div><div class="ttdef"><b>Definition:</b> Config.h:72</div></div>
</div><!-- fragment --><p><b>C</b> interface: </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> minTopicId = 0;</div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> maxTopicId = 0;</div>
<div class="line"><a class="code" href="gateway__all_8h.html#aeb95bc354adf02703544e26f96d3bcc7">cc_mqttsn_gw_config_topic_id_alloc_range</a>(handle, &amp;minTopicId, &amp;maxTopicId);</div>
<div class="ttc" id="agateway__all_8h_html_aeb95bc354adf02703544e26f96d3bcc7"><div class="ttname"><a href="gateway__all_8h.html#aeb95bc354adf02703544e26f96d3bcc7">cc_mqttsn_gw_config_topic_id_alloc_range</a></div><div class="ttdeci">void cc_mqttsn_gw_config_topic_id_alloc_range(CC_MqttsnConfigHandle config, unsigned short *min, unsigned short *max)</div><div class="ttdoc">Get range of allowed topic IDs for allocation.</div></div>
</div><!-- fragment --><p>Applicable configuration file contents: </p><div class="fragment"><div class="line"># The gateway is responsible to allocate topic IDs for published topics. It is</div>
<div class="line"># possible to limit the range of such ID values using</div>
<div class="line"># &quot;mqttsn_topic_id_alloc_range&quot; option. It receives two parameters of minimal</div>
<div class="line"># and maximal numeric ID. Note, that valid IDs must be in range [1 - 65534].</div>
<div class="line">mqttsn_topic_id_alloc_range 1000 5000</div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_broker_addr"></a>
Broker Address and Port</h1>
<p>The MQTT-SN gateway application must connect and forward traffic to MQTT broker. Below are API functions that can be used to retrieve the TCP/IP address and port of the broker.</p>
<p><b>C++</b> interface </p><div class="fragment"><div class="line"><span class="keyword">const</span> std::string&amp; addr = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#a710a6985da49a7922f775a8df875d9d3">brokerTcpHostAddress</a>();</div>
<div class="line">std::uint16_t port = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#a5ec2026d212e0f2cbc592abaf2e6f78c">brokerTcpHostPort</a>();</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_a5ec2026d212e0f2cbc592abaf2e6f78c"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#a5ec2026d212e0f2cbc592abaf2e6f78c">cc_mqttsn_gateway::Config::brokerTcpHostPort</a></div><div class="ttdeci">std::uint16_t brokerTcpHostPort() const</div><div class="ttdoc">Get TCP/IP port of the broker.</div></div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_a710a6985da49a7922f775a8df875d9d3"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#a710a6985da49a7922f775a8df875d9d3">cc_mqttsn_gateway::Config::brokerTcpHostAddress</a></div><div class="ttdeci">const std::string &amp; brokerTcpHostAddress() const</div><div class="ttdoc">Get TCP/IP address of the broker.</div></div>
</div><!-- fragment --><p><b>C</b> interface </p><div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* addr = <a class="code" href="gateway__all_8h.html#a388feb43456b21e988d7f3e587b5c516">cc_mqttsn_gw_config_broker_address</a>(handle);</div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> port = <a class="code" href="gateway__all_8h.html#a52604b98bac8782f7b901de08a559113">cc_mqttsn_gw_config_broker_port</a>(handle);</div>
<div class="ttc" id="agateway__all_8h_html_a388feb43456b21e988d7f3e587b5c516"><div class="ttname"><a href="gateway__all_8h.html#a388feb43456b21e988d7f3e587b5c516">cc_mqttsn_gw_config_broker_address</a></div><div class="ttdeci">const char * cc_mqttsn_gw_config_broker_address(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get TCP/IP address of the broker.</div></div>
<div class="ttc" id="agateway__all_8h_html_a52604b98bac8782f7b901de08a559113"><div class="ttname"><a href="gateway__all_8h.html#a52604b98bac8782f7b901de08a559113">cc_mqttsn_gw_config_broker_port</a></div><div class="ttdeci">unsigned short cc_mqttsn_gw_config_broker_port(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get TCP/IP port of the broker.</div></div>
</div><!-- fragment --><p>Applicable configuration file contents: </p><div class="fragment"><div class="line"># The connection to MQTT broker is usually performed over TCP/IP link.</div>
<div class="line"># Use &quot;mqttsn_broker&quot; option to specify the address of the broker.</div>
<div class="line"># The option receives two parameters: address and port. The default values are</div>
<div class="line"># 127.0.0.1 and 1883 respectively.</div>
<div class="line">mqttsn_broker 127.0.0.1 1883</div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_log_file"></a>
Log File</h1>
<p>The gateway application can produce various information and/or error messages. These messages can be stored in a special log file. To retrieve the relevant configuration information use the following API functions:</p>
<p><b>C++</b> interface </p><div class="fragment"><div class="line"><span class="keyword">const</span> std::string&amp; logFile = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#ade0a3b3025cd7e78b747622fc2006d7a">logFile</a>();</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_ade0a3b3025cd7e78b747622fc2006d7a"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#ade0a3b3025cd7e78b747622fc2006d7a">cc_mqttsn_gateway::Config::logFile</a></div><div class="ttdeci">const std::string &amp; logFile() const</div><div class="ttdoc">Get log file.</div></div>
</div><!-- fragment --><p><b>C</b> interface </p><div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* logFile = <a class="code" href="gateway__all_8h.html#a9cb4f84b328a2bdccf6525654493fdc9">cc_mqttsn_gw_config_log_file</a>(handle);</div>
<div class="ttc" id="agateway__all_8h_html_a9cb4f84b328a2bdccf6525654493fdc9"><div class="ttname"><a href="gateway__all_8h.html#a9cb4f84b328a2bdccf6525654493fdc9">cc_mqttsn_gw_config_log_file</a></div><div class="ttdeci">const char * cc_mqttsn_gw_config_log_file(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get log file.</div></div>
</div><!-- fragment --><p>Applicable configuration file contents: </p><div class="fragment"><div class="line"># Log file is expected be either an absolute path or one of the</div>
<div class="line"># special values: stdout (default), stderr.</div>
<div class="line">mqttsn_log_file stdout</div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_client_socket"></a>
Client I/O Socket Type</h1>
<p>The MQTT-SN gateway application can support multiple client communication I/O socket types. Below are API function that can retrieve such information.</p>
<p><b>C++</b> interface </p><div class="fragment"><div class="line"><a class="code" href="classcc__mqttsn__gateway_1_1Config.html#aeebe15b47e134b2ecbecee68c9a82c75">cc_mqttsn_gateway::Config::ClientConnectionType</a> type = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#a11c51098a26f511d7f32e92d1626dafb">clientConnectionType</a>();</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_a11c51098a26f511d7f32e92d1626dafb"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#a11c51098a26f511d7f32e92d1626dafb">cc_mqttsn_gateway::Config::clientConnectionType</a></div><div class="ttdeci">ClientConnectionType clientConnectionType() const</div><div class="ttdoc">Get client side I/O socket connection type.</div></div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_aeebe15b47e134b2ecbecee68c9a82c75"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#aeebe15b47e134b2ecbecee68c9a82c75">cc_mqttsn_gateway::Config::ClientConnectionType</a></div><div class="ttdeci">ClientConnectionType</div><div class="ttdoc">Client I/O socket connection type.</div><div class="ttdef"><b>Definition:</b> Config.h:76</div></div>
</div><!-- fragment --><p><b>C</b> interface </p><div class="fragment"><div class="line"><a class="code" href="gateway__all_8h.html#a9dc62489f926bed4e7116b79fe1bc51f">CC_MqttsnClientConnectionType</a> type = <a class="code" href="gateway__all_8h.html#a5ad5992d18da51df9c95dd8d5c7c5c91">cc_mqttsn_gw_config_client_connection_type</a>(handle);</div>
<div class="ttc" id="agateway__all_8h_html_a5ad5992d18da51df9c95dd8d5c7c5c91"><div class="ttname"><a href="gateway__all_8h.html#a5ad5992d18da51df9c95dd8d5c7c5c91">cc_mqttsn_gw_config_client_connection_type</a></div><div class="ttdeci">CC_MqttsnClientConnectionType cc_mqttsn_gw_config_client_connection_type(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get client I/O socket connection type.</div></div>
<div class="ttc" id="agateway__all_8h_html_a9dc62489f926bed4e7116b79fe1bc51f"><div class="ttname"><a href="gateway__all_8h.html#a9dc62489f926bed4e7116b79fe1bc51f">CC_MqttsnClientConnectionType</a></div><div class="ttdeci">CC_MqttsnClientConnectionType</div><div class="ttdoc">Client I/O socket connection type.</div><div class="ttdef"><b>Definition:</b> gateway_all.h:558</div></div>
</div><!-- fragment --><p>Applicable configuration file contents: </p><div class="fragment"><div class="line"># Use &quot;mqttsn_client_socket&quot; option to specify the type of the client side I/O link socket</div>
<div class="line"># to use. Supported values are: &quot;udp&quot; (default)</div>
<div class="line">mqttsn_client_socket udp</div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_broker_socket"></a>
Broker I/O Socket Type</h1>
<p>The MQTT-SN gateway application can support multiple broker communication I/O socket types. Below are API function that can retrieve such information.</p>
<p><b>C++</b> interface </p><div class="fragment"><div class="line"><a class="code" href="classcc__mqttsn__gateway_1_1Config.html#ac1c4efb1a1b3bb86893cb18021a294b8">cc_mqttsn_gateway::Config::BrokerConnectionType</a> type = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#aef758bcbc3d506f96773915eedecab29">brokerConnectionType</a>();</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_ac1c4efb1a1b3bb86893cb18021a294b8"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#ac1c4efb1a1b3bb86893cb18021a294b8">cc_mqttsn_gateway::Config::BrokerConnectionType</a></div><div class="ttdeci">BrokerConnectionType</div><div class="ttdoc">Broker I/O socket connection type.</div><div class="ttdef"><b>Definition:</b> Config.h:83</div></div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_aef758bcbc3d506f96773915eedecab29"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#aef758bcbc3d506f96773915eedecab29">cc_mqttsn_gateway::Config::brokerConnectionType</a></div><div class="ttdeci">BrokerConnectionType brokerConnectionType() const</div><div class="ttdoc">Get broker side I/O socket connection type.</div></div>
</div><!-- fragment --><p><b>C</b> interface </p><div class="fragment"><div class="line"><a class="code" href="gateway__all_8h.html#a2de0a1cc46b4fdd12a66e38b7397145f">CC_MqttsnBrokerConnectionType</a> type = <a class="code" href="gateway__all_8h.html#af6620432f351d7d109538e4323ade62b">cc_mqttsn_gw_config_broker_connection_type</a>(handle);</div>
<div class="ttc" id="agateway__all_8h_html_a2de0a1cc46b4fdd12a66e38b7397145f"><div class="ttname"><a href="gateway__all_8h.html#a2de0a1cc46b4fdd12a66e38b7397145f">CC_MqttsnBrokerConnectionType</a></div><div class="ttdeci">CC_MqttsnBrokerConnectionType</div><div class="ttdoc">Broker I/O socket connection type.</div><div class="ttdef"><b>Definition:</b> gateway_all.h:565</div></div>
<div class="ttc" id="agateway__all_8h_html_af6620432f351d7d109538e4323ade62b"><div class="ttname"><a href="gateway__all_8h.html#af6620432f351d7d109538e4323ade62b">cc_mqttsn_gw_config_broker_connection_type</a></div><div class="ttdeci">CC_MqttsnBrokerConnectionType cc_mqttsn_gw_config_broker_connection_type(CC_MqttsnConfigHandle config)</div><div class="ttdoc">Get broker I/O socket connection type.</div></div>
</div><!-- fragment --><p>Applicable configuration file contents: </p><div class="fragment"><div class="line"># Use &quot;mqttsn_broker_socket&quot; option to specify the type of the broker side I/O link socket</div>
<div class="line"># to use. Supported values are: &quot;tcp&quot; (default)</div>
<div class="line">mqttsn_client_socket udp</div>
</div><!-- fragment --><h1><a class="anchor" id="cc_mqttsn_gw_config_page_custom"></a>
Custom Configuration Values</h1>
<p>The <b>Config</b> object has a list of predefined options it recognises in the configuration file. It also accumulates all the options it doesn't recognise. As a reminder: the first word (until the first white character) in the configuration line is considered to be a key, and the rest of the string (from the next non-white character until the end of the line) is considered to be a value. The <b>Config</b> option allows access to such values for the driving code to parse and use.</p>
<p><b>C++</b> interface </p><div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="classcc__mqttsn__gateway_1_1Config.html#a52aecd7c035932adbf1b837ab55c9827">cc_mqttsn_gateway::Config::ConfigMap</a> map = config.<a class="code" href="classcc__mqttsn__gateway_1_1Config.html#ab667ca6ba24f5cd4c5e5399ba6dc7fc4">configMap</a>();</div>
<div class="line"><span class="keyword">auto</span> iters = map.equal_range(<span class="stringliteral">&quot;my_custom_config&quot;</span>);</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keyword">auto</span> iter = iters.first; iter != iters.second; ++iter) {</div>
<div class="line">    <span class="keyword">const</span> std::string&amp; value = iter-&gt;second;</div>
<div class="line">    ... <span class="comment">// Parse and use the value</span></div>
<div class="line">}</div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_a52aecd7c035932adbf1b837ab55c9827"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#a52aecd7c035932adbf1b837ab55c9827">cc_mqttsn_gateway::Config::ConfigMap</a></div><div class="ttdeci">std::multimap&lt; std::string, std::string &gt; ConfigMap</div><div class="ttdoc">Full configuration map.</div><div class="ttdef"><b>Definition:</b> Config.h:42</div></div>
<div class="ttc" id="aclasscc__mqttsn__gateway_1_1Config_html_ab667ca6ba24f5cd4c5e5399ba6dc7fc4"><div class="ttname"><a href="classcc__mqttsn__gateway_1_1Config.html#ab667ca6ba24f5cd4c5e5399ba6dc7fc4">cc_mqttsn_gateway::Config::configMap</a></div><div class="ttdeci">const ConfigMap &amp; configMap() const</div><div class="ttdoc">Get access to the full configuration map.</div></div>
</div><!-- fragment --><p> <b>NOTE</b>, that <a class="el" href="classcc__mqttsn__gateway_1_1Config.html#a52aecd7c035932adbf1b837ab55c9827" title="Full configuration map.">cc_mqttsn_gateway::Config::ConfigMap</a> type is a <b>multimap</b>, it allows multiple entries for the same key.</p>
<p><b>C</b> interface: <br  />
 First, retrieve the number of available entries for the provided configuration key: </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> count = <a class="code" href="gateway__all_8h.html#a2bd0cb2f3607b3b1e82136baad12ddb1">cc_mqttsn_gw_config_values_count</a>(handle, <span class="stringliteral">&quot;my_custom_config&quot;</span>);</div>
<div class="ttc" id="agateway__all_8h_html_a2bd0cb2f3607b3b1e82136baad12ddb1"><div class="ttname"><a href="gateway__all_8h.html#a2bd0cb2f3607b3b1e82136baad12ddb1">cc_mqttsn_gw_config_values_count</a></div><div class="ttdeci">unsigned cc_mqttsn_gw_config_values_count(CC_MqttsnConfigHandle config, const char *key)</div><div class="ttdoc">Get number of available configuration values for the provided key.</div></div>
</div><!-- fragment --><p> Then, access the available configuration values: </p><div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> idx;</div>
<div class="line"><span class="keywordflow">for</span> (idx = 0; idx &lt; count; idx++) {</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* value = <a class="code" href="gateway__all_8h.html#abdc375f41461277b451a07e623ffa68f">cc_mqttsn_gw_config_get_value</a>(handle, <span class="stringliteral">&quot;my_custom_config&quot;</span>, idx);</div>
<div class="line">    ... <span class="comment">/* Parse and use the value */</span></div>
<div class="line">}</div>
<div class="ttc" id="agateway__all_8h_html_abdc375f41461277b451a07e623ffa68f"><div class="ttname"><a href="gateway__all_8h.html#abdc375f41461277b451a07e623ffa68f">cc_mqttsn_gw_config_get_value</a></div><div class="ttdeci">const char * cc_mqttsn_gw_config_get_value(CC_MqttsnConfigHandle config, const char *key, unsigned idx)</div><div class="ttdoc">Get the available value for the configuration key.</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
